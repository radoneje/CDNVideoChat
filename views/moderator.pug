extends layout

block content
  .sModBox#app
    .sModPadel
      .sModPanelHead
        .h4(v-if="status.isChat") ({{chat.length}}) Чат  включен &nbsp;
        .button.maxContent.small(v-if="status.isChat" @click="changeStatus('isChat')") Выключить
        .h4(v-if="!status.isChat") Чат  выключен &nbsp;
        .button.maxContent.small.red(v-if="!status.isChat" @click="changeStatus('isChat')") Включить
        .sModSettings(@click="chatConfigShow=!chatConfigShow") &#x2699;
        .sModSettingsBox(v-if="chatConfigShow")
          .sModSettingsBoxRow(v-bind:class="{active:status.isChatPreMod}" v-on:click="changeStatus('isChatPreMod')")
            .sModSettingsBoxRowRound
            .sModSettingsBoxRowTitle Пре-модерация
          .sModSettingsBoxRow(v-bind:class="{active:status.isChatLikes}" v-on:click="changeStatus('isChatLikes')")
            .sModSettingsBoxRowRound
            .sModSettingsBoxRowTitle Лайки
          .sModSettingsBoxRow
            .button.small.maxContent(@click="chatConfigShow=!chatConfigShow") Закрыть настройки

      .sBody
        .sSectWr
          include elements/chatBody
    .sModPadel
      .sModPanelHead
        .h4(v-if="status.isQ") ({{q.length}}) Вопросы  включены &nbsp;
        .button.maxContent.small(v-if="status.isQ" @click="changeStatus('isQ')") Выключить
        .h4(v-if="!status.isQ") Вопросы  выключены &nbsp;
        .button.maxContent.small.red(v-if="!status.isQ" @click="changeStatus('isQ')") Включить
        .sModSettings(@click="qConfigShow=!qConfigShow") &#x2699;
        .sModSettingsBox(v-if="qConfigShow")
          .sModSettingsBoxRow(v-bind:class="{active:status.isQPreMod}" v-on:click="changeStatus('isQPreMod')")
            .sModSettingsBoxRowRound
            .sModSettingsBoxRowTitle Пре-модерация
          .sModSettingsBoxRow(v-bind:class="{active:status.isQLikes}" v-on:click="changeStatus('isQLikes')")
            .sModSettingsBoxRowRound
            .sModSettingsBoxRowTitle Лайки
          .sModSettingsBoxRow
            .button.small.maxContent(@click="qConfigShow=!qConfigShow") Закрыть настройки
      .sBody
        .sSectWr
          include elements/qBody
    .sModPadel
      .sModPanelHead
        .h4 Голосование &nbsp;
        .button.maxContent.small(@click="addVote()") Добавить голосование
        .sModSettings(@click="voteConfigShow=!voteConfigShow") &#x2699;
          .sModSettingsBox(v-if="voteConfigShow")
      .sBody
        .sSectWr
          .asVoteWr
            .sSectBodyItem(v-for="item in votes" v-if="votes.length>0" :id="'vote'+item.id")
              .sSectBodyItemRow
                input.aanswTitle(v-model="item.title" v-on:change="voteTitleChange(item)" style="width: calc(100% - 30px);font-size: 18px;")
                .buttonGroup( style="margin-top:24px;")
                  .button(v-on:click="multyVote(item)" v-if="!item.multy") Только один вариант
                  .button.green(v-on:click="multyVote(item)" v-if="item.multy") Возможно много вариантов

    include elements/regUser
  script.
    const ROOM=!{JSON.stringify(room[0])};
  script(src="/include/vue.min.js")
  script(src="/include/axios.js")
  script(src="/include/moment.min.js")
  script(src="/include/ulils.js")
  script(src="/include/moderatorScript.js")

